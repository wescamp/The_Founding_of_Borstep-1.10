#textdomain wesnoth-units

[unit_type]
    id=Kraken
    name= _ "Kraken"
    race=monster
    image="units/monsters/kraken.png"
    hitpoints=85
    movement_type=deepsea
    movement=8
    experience=150
    level=3
    alignment=neutral
    advanceto=null
    attacks=1
    {AMLA_DEFAULT}
    cost=62
    undead_variation=swimmer
    usage=fighter
    unit_description= _ "Krakens are gigantic creatures of the seas. They can grab their opponents with strong tentacles, or spit a poisonous black ink from a distance. The best way to survive an encounter with these monsters is to remain ashore."+{SPECIAL_NOTES}+{SPECIAL_NOTES_POISON}+{SPECIAL_NOTES_SWARM}
    die_sound=water-blast.wav
    {DEFENSE_ANIM_DIRECTIONAL_RANGE "units/monsters/kraken-defend.png" "units/monsters/kraken.png" "units/monsters/kraken-n-defend.png" "units/monsters/kraken-n-tentacle-1.png" squishy-hit.wav melee}
    {DEFENSE_ANIM_DIRECTIONAL_RANGE "units/monsters/kraken-defend.png" "units/monsters/kraken.png" "units/monsters/kraken-defend.png" "units/monsters/kraken.png" squishy-hit.wav ranged}
    [attack]
        name=tentacle
        description=_"tentacle"
        type=impact
        range=melee
        [specials]
            {WEAPON_SPECIAL_SWARM}
        [/specials]
        damage=5
        number=10
    [/attack]
    [attack]
        name=ink
        description=_"ink"
        type=pierce
        range=ranged
        damage=8
        number=3
        [specials]
            {WEAPON_SPECIAL_POISON}
        [/specials]
    [/attack]
    [attack_anim]
        [filter_attack]
            name=ink
        [/filter_attack]
        [missile_frame]
            begin=-200
            end=0
            image="projectiles/ink.png"
            image_diagonal="projectiles/ink.png"
        [/missile_frame]
        [frame]
            begin=-250
            end=-180
            image="units/monsters/kraken-tentacle-1.png"
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=-180
                end=-100
                image="units/monsters/kraken-tentacle-1.png"
                sound=squishy-strike.wav
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-180
                end=-100
                image="units/monsters/kraken-tentacle-1.png"
                sound=squishy-miss.wav
            [/frame]
        [/else]
        [frame]
            begin=-100
            end=0
            image="units/monsters/kraken.png"
        [/frame]
        {SOUND:POISON}
    [/attack_anim]
    
# tentacles hit south----------------------------------------------
    [attack_anim]
        [filter_attack]
            name=tentacle
        [/filter_attack]
        direction=s,se,sw
        hits=yes
        [frame]
            begin=-200
            end=-100
            image="units/monsters/kraken-tentacle-1.png"
        [/frame]
        [frame]
            begin=-100
            end=50
            image="units/monsters/kraken-tentacle-2.png"
            sound=squishy-strike.wav
        [/frame]
        [frame]
            begin=50
            end=200
            image="units/monsters/kraken-tentacle-1.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=tentacle
        [/filter_attack]
        direction=s,se,sw
        hits=yes
        [frame]
            begin=-200
            end=-50
            image="units/monsters/kraken-tentacle-1.png"
        [/frame]
        [frame]
            begin=-50
            end=100
            image="units/monsters/kraken-tentacle-3.png"
            sound=squishy-strike.wav
        [/frame]
        [frame]
            begin=100
            end=200
            image="units/monsters/kraken-tentacle-1.png"
        [/frame]
    [/attack_anim]
    
# tentacles hit north----------------------------------------------
    [attack_anim]
        [filter_attack]
            name=tentacle
        [/filter_attack]
        direction=n,ne,nw
        hits=yes
        [frame]
            begin=-200
            end=-50
            image="units/monsters/kraken-n-tentacle-1.png"
        [/frame]
        [frame]
            begin=-50
            end=100
            image="units/monsters/kraken-n-tentacle-2.png"
        [/frame]
        [frame]
            begin=100
            end=200
            image="units/monsters/kraken-n-tentacle-1.png"
            sound=squishy-strike.wav
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=tentacle
        [/filter_attack]
        direction=n,ne,nw
        hits=yes
        [frame]
            begin=-200
            end=-50
            image="units/monsters/kraken-n-tentacle-1.png"
        [/frame]
        [frame]
            begin=-50
            end=100
            image="units/monsters/kraken-n-tentacle-3.png"
        [/frame]
        [frame]
            begin=100
            end=200
            image="units/monsters/kraken-n-tentacle-1.png"
            sound=squishy-strike.wav
        [/frame]
    [/attack_anim]
    
# tentacles miss south ----------------------------------------------
    [attack_anim]
        [filter_attack]
            name=tentacle
        [/filter_attack]
        hits=no
        direction=s,se,sw
        [frame]
            begin=-200
            end=-100
            image="units/monsters/kraken-tentacle-1.png"
        [/frame]
        [frame]
            begin=-100
            end=50
            image="units/monsters/kraken-tentacle-2.png"
            sound=squishy-miss.wav
        [/frame]
        [frame]
            begin=50
            end=200
            image="units/monsters/kraken-tentacle-1.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=tentacle
        [/filter_attack]
        hits=no
        direction=s,se,sw
        [frame]
            begin=-200
            end=-50
            image="units/monsters/kraken-tentacle-1.png"
        [/frame]
        [frame]
            begin=-50
            end=100
            image="units/monsters/kraken-tentacle-3.png"
            sound=squishy-miss.wav
        [/frame]
        [frame]
            begin=100
            end=100
            image="units/monsters/kraken-tentacle-1.png"
        [/frame]
    [/attack_anim]
    
# tentacles miss north----------------------------------------------
    [attack_anim]
        [filter_attack]
            name=tentacle
        [/filter_attack]
        direction=n,ne,nw
        hits=no
        [frame]
            begin=-200
            end=-50
            image="units/monsters/kraken-n-tentacle-1.png"
        [/frame]
        [frame]
            begin=-50
            end=100
            image="units/monsters/kraken-n-tentacle-2.png"
        [/frame]
        [frame]
            begin=100
            end=200
            image="units/monsters/kraken-n-tentacle-1.png"
            sound=squishy-miss.wav
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=tentacle
        [/filter_attack]
        direction=n,ne,nw
        hits=no
        [frame]
            begin=-200
            end=-50
            image="units/monsters/kraken-n-tentacle-1.png"
        [/frame]
        [frame]
            begin=-50
            end=100
            image="units/monsters/kraken-n-tentacle-3.png"
        [/frame]
        [frame]
            begin=100
            end=200
            image="units/monsters/kraken-n-tentacle-1.png"
            sound=squishy-miss.wav
        [/frame]
    [/attack_anim]
#     
#     [event]
# 		name=attack
# 		first_time_only=no
# 		[filter]
# 			type=Kraken
# 		[/filter]
# 		[filter_second]
# 			ability=avoid_kraken_attack
# 		[/filter_second]
# 		
# 		{DEBUG_MSG "attacked"}
# 	[/event]
# 	
# 	[event]
# 		name=attack_end
# 		first_time_only=no
# 		[filter]
# 			type=Kraken
# 		[/filter]
# 		
# 		[object]
# 			[filter]
# 				x=$x2
# 				y=$y2
# 			[/filter]
# 
# 			[effect]
# 				apply_to=new_ability
# 				[abilities]
# 					[avoid_kraken]
# 						id=avoid_kraken_attack
# 					[/avoid_kraken]
# 				[/abilities]
# 			[/effect]
# 			silent=yes
# 		[/object]
# 		
# 		[store_unit]
# 			[filter]
# 				id=$second_unit.id
# 			[/filter]
# 			variable=attacked_unit
# 		[/store_unit]
# 	[/event]
	
# 	[event]
# 		name=turn_refresh
# 		first_time_only=no
# 		
# 		[store_unit]
# 			[filter]
# 				ability
# 			[/filter]
# 		[/store_unit]
# 	[/event]
[/unit_type]